# lab1 实验总结
## 1 实验设计
### 1.1 正则表达式的设计
&emsp;对于一般的标识符，正则表达式就是它本身，可以直接写出来。对于LETTER，其正则表达式是[a-zA-Z]，是大小写共52个字母中的任意一个，而对于IDENTIFIER，其正则表达式为LETTER的正闭包，即[a-zA-Z]+。对于NUMBER，其正则表达式是0到9十个数字的正闭包，即[0-9]+。数组识别直接用[]来表示，对于EOL，"\n"是其标识。对于正则式来说，最难得应该是COMMENT，由于注释可以换行，所以
### 1.2 测试样例的设计
&emsp;对于词法分析器实验，设计了用CMINUS语言写的冒泡排序来作为testcase。  
&emsp;一开始把函数名写作了BUBBLE_SORTING，由于CMINUS语言没有下划线特殊字符，导致了识别为ERROR。后来去掉了下划线，把函数名正常识别为IDENTIFIER。样例包含了超过一行的注释以及数组。
### 1.3 对于读取目录的设计
 &emsp;通过调用dirent.h库来实现linux系统下对于相对路径目录文件的读取，直接指定读取testcase文件夹下的内容，默认此文件夹下除了.gitkeep文件外都是.cminus文件。
 ## 2 问题及解决
 ### 2.1 读取目录问题
 &emsp;一开始没有考虑testcase文件夹下的.gitkeep文件，导致.gitkeep文件被一起分析了导致错误。通过C代码加一条if语句解决问题。
 ### 2.2 注释不止一行问题
 &emsp;最初把注释的正则式写作"/*".*"*/"，这样对于只有一行的注释没有问题，但对于超过一行的注释会出错。经过与同学讨论后，写出如下表达式："/*"([^/]*|\/[^*]|\n)*(\/)*"*/"解决问题

 ## 3 总实验时间
 &emsp;了解flex半小时,编写代码及修改代码bug 2小时，编写测试样例10分钟，最后修改注释考虑不全面，思考如何写正则式1一小时左右。总时间4小时。